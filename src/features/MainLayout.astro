---
import { Header, TabsEnum } from "../components/Header";
const showSuccess = Astro.url.searchParams.get('success') || false

interface Props {
    alertMessage?: string;
    tab: TabsEnum;
}
---
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<meta name="theme-color" content="#4f46e5" />
		<title>FinTckr</title>
	</head>
	<body class="bg-slate-100">
		<Header value={Astro.props.tab} />
        <slot />
		<div id="alert" class={(showSuccess ? "" : "hidden ") + "bg-emerald-200 rounded-md shadow-md p-4 absolute bottom-5 left-5 right-5 text-center text-xs font-semibold text-emerald-900 uppercase"}>
			{Astro.props.alertMessage}
		</div>
	</body>
</html>

<script>
	const alert = document.getElementById("alert");

	if (alert && !alert.classList.contains("hidden")) {
		setTimeout(() => {
			alert.classList.add("hidden")
		}, 3500)
	}
</script>